{"version":3,"file":"static/js/622.527762dc.chunk.js","mappings":"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","sources":["components/movieCard/MovieCard.styled.js","components/movieCard/MovieCard.jsx","components/backLink/BackLink.styled.js","components/backLink/BackLink.jsx","pages/MovieDetails.jsx","service/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wraper = styled.div`\n  margin-left: ${p => p.theme.space[4]}px;\n  padding: ${p => p.theme.space[4]}px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n`;\n","import PropTypes from 'prop-types';\nimport { Box } from 'components/Box';\nimport defaultImg from '../images/popcorn1.png';\nimport { Wraper } from './MovieCard.styled';\n\nexport const MovieCard = ({ movieInfo }) => {\n  const { poster_path, overview, title, vote_average, genres, release_date } =\n    movieInfo;\n\n  const date = release_date.slice(0, 4);\n  const poster =\n    poster_path === null\n      ? defaultImg\n      : `https://image.tmdb.org/t/p/w300${poster_path}`;\n\n  const score = Math.round(vote_average * 10);\n  const genresString = genres.map(genre => genre.name).join(', ');\n\n  return (\n    <Box p={4} borderBottom=\"normal\" display=\"flex\">\n      <img src={poster} alt={title} />\n\n      <Wraper>\n        <h2>\n          {title} ({date})\n        </h2>\n        <p>User score: {score}%</p>\n\n        <h2>Overview</h2>\n        <p>{overview}</p>\n\n        <h2>Genres</h2>\n        <p>{genresString}</p>\n      </Wraper>\n    </Box>\n  );\n};\n\nMovieCard.propTypes = {\n  images: PropTypes.objectOf(\n    PropTypes.shape({\n      poster_path: PropTypes.string,\n      overview: PropTypes.string,\n      title: PropTypes.string.isRequired,\n      vote_average: PropTypes.number,\n      release_date: PropTypes.string,\n      genres: PropTypes.arrayOf(\n        PropTypes.objectOf(\n          PropTypes.shape({\n            name: PropTypes.string,\n          })\n        )\n      ),\n    })\n  ),\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Back = styled(Link)`\n  width: 100px;\n  padding: 8px 16px;\n  margin-left: ${p => p.theme.space[3]}px;\n  margin-top: ${p => p.theme.space[2]}px;\n  margin-bottom: ${p => p.theme.space[2]}px;\n  border-radius: 2px;\n  background-color: ${p => p.theme.colors.blue};\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  :hover,\n  :focus {\n    background-color: #303f9f;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport { Back } from './BackLink.styled';\n\nexport const BackLink = ({ to }) => {\n  return (\n    <Back to={to}>\n      <HiArrowLeft size=\"24\" />\n      Go back\n    </Back>\n  );\n};\n\n// BackLink.propTypes = {\n//   to: PropTypes.objectOf(PropTypes.string),\n// };\n\nBackLink.propTypes = {\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport { useLocation, useParams, Link, Outlet } from 'react-router-dom';\nimport { getMovieById } from '../service/api';\nimport { Box } from '../components/Box';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { MovieCard } from '../components/movieCard/MovieCard';\nimport { BackLink } from '../components/backLink/BackLink';\nimport styled from 'styled-components';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    async function fetchMovieById(movieId) {\n      try {\n        const data = await getMovieById(movieId);\n        setMovie(data);\n      } catch (error) {\n        toast.error('..We have a problem');\n      }\n    }\n\n    fetchMovieById(movieId);\n  }, [movieId]);\n\n  return (\n    <>\n      <BackLink to={backLinkHref} />\n      {movie && <MovieCard movieInfo={movie} />}\n      <Box p={4} borderBottom=\"normal\">\n        <p>Additional information</p>\n        <ul>\n          <Item>\n            <Link to=\"cast\" state={{ from: backLinkHref }}>\n              Cast\n            </Link>\n          </Item>\n          <Item>\n            <Link to=\"reviews\" state={{ from: backLinkHref }}>\n              Reviews\n            </Link>\n          </Item>\n        </ul>\n      </Box>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n\n      <ToastContainer\n        autoClose={3000}\n        position=\"top-center\"\n        theme=\"colored\"\n        pauseOnHover\n      />\n    </>\n  );\n};\n\nconst Item = styled.li`\n  margin-bottom: ${p => p.theme.space[4]}px;\n`;\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst KEY = '47bf952bf58b26c55c9961725433383a';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: KEY,\n};\n// Trending movies list\nexport async function getTrendingMovies() {\n  const res = await axios.get('/trending/movie/day');\n\n  return res.data;\n}\n// Movies list by search query\nexport async function getMoviesByQuery(query) {\n  const res = await axios.get(`search/movie?query=${query}`);\n\n  return res.data;\n}\n\n// Movie by id\nexport async function getMovieById(movieId) {\n  const res = await axios.get(`/movie/${movieId}`);\n\n  return res.data;\n}\n// get cast list\nexport async function getCastListById(movieId) {\n  const res = await axios.get(`/movie/${movieId}/credits`);\n\n  return res.data;\n}\n\n// get reviews\nexport async function getReviewsById(movieId) {\n  const res = await axios.get(`/movie/${movieId}/reviews`);\n\n  return res.data;\n}\n"],"names":["Wraper","styled","p","theme","space","MovieCard","movieInfo","poster_path","overview","title","vote_average","genres","date","release_date","slice","poster","defaultImg","score","Math","round","genresString","map","genre","name","join","Box","borderBottom","display","src","alt","Back","Link","colors","blue","BackLink","to","size","Item","movieId","useParams","useState","movie","setMovie","backLinkHref","useLocation","state","from","useEffect","getMovieById","data","toast","fetchMovieById","Suspense","fallback","autoClose","position","pauseOnHover","getTrendingMovies","axios","res","getMoviesByQuery","query","getCastListById","getReviewsById","api_key"],"sourceRoot":""}